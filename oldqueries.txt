            var timeDiff = (DateTime.Now - LastSearched.AddMilliseconds(Properties.Settings.Default.SearchDelay)).TotalMilliseconds;
            if (timeDiff < 0)
            {
                var t = new Timer();
                t.Interval = (int)Math.Abs(timeDiff);
                t.Tick += T_Tick;
                t.Start();
            }




--SELECT filepath, 1 as static, (select name from ind.files where filepath == fullpath)  FROM history UNION ALL SELECT fullpath, 2, name FROM ind.files ORDER BY static

--SELECT filepath, 1 as static, (select name from ind.files where filepath == fullpath) as name FROM history UNION ALL SELECT fullpath, 2, name FROM ind.files where name like 'W%' ORDER BY static


--SELECT filepath, 1 as static, (select name from ind.files where filepath == fullpath) as name FROM history where name like 'w%' UNION SELECT fullpath, 2 as static, name FROM ind.files where name like 'W%' ORDER BY static

--SELECT filepath, hits as static, (select name from ind.files where filepath == fullpath) as name FROM history where name like 'w%' order by hits UNION SELECT fullpath, 0 as static, name FROM ind.files where name like 'W%' ORDER BY static desc


 select filepath, hits as static, (select name from files where filepath == fullpath) as name from history union select  FULLPATH,  -1 as static, name from FILES where name like 'W%' order by static desc limit 50

select NAME , FULLPATH, HITS as STATIC from (select * from history where snippet like 'win%') where name like 'w%' union select NAME, FULLPATH, 0 as STATIC from CATALOG  C where  C.NAME like 'w%' order by STATIC desc limit 10

select NAME , FULLPATH, HITS as STATIC from HISTORY where snippet like 'win' and name like 'w%'  union select NAME, FULLPATH, 0 as STATIC from CATALOG  C where  C.NAME like 'w%' order by STATIC desc limit 10


select NAME , FULLPATH, HITS as STATIC from HISTORY where snippet like 'win' and name like 'w%'  union select NAME, FULLPATH, 0 as STATIC from CATALOG  C where  C.NAME like 'w%' order by STATIC desc limit 10

        //private static string queryTemplate = "select distinct NAME, FULLPATH from FILES where NAME like @query order by NAME limit @limit";
        //private static string queryTemplate = " select FILEPATH, HITS as static, (select NAME from FILES where FILEPATH == FULLPATH) as NAME from HISTORY union select FULLPATH, 0 as static, NAME from FILES where NAME like @query order by static desc limit @limit";
        //private static string queryTemplate = "select NAME, FULLPATH, HITS as STATIC from HISTORY where SNIPPET like @snip union select NAME, FULLPATH, 0 as STATIC from CATALOG where NAME like @query order by STATIC desc, NAME asc limit @limit";
      







        private static string queryTemplate = @"select distinct name, fullpath from 
                                                (select NAME, FULLPATH, HITS as STATIC from HISTORY where SNIPPET like @snip
                                                union 
                                                select NAME, FULLPATH, 0 as STATIC from CATALOG where NAME like @query 
                                                order by STATIC desc, NAME asc) limit @limit";